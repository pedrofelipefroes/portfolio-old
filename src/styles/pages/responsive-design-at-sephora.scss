@import "../index.scss";

@import url("https://fonts.googleapis.com/css2?family=Mali&display=swap");

@keyframes auditIn {
  from {
    filter: blur(0);
    opacity: 1;
    padding: 0;
  }
  to {
    filter: blur(0.125rem);
    opacity: 0.64;
    padding: map-get($spacing, "L");
  }
}

.p-responsive-design-at-sephora {
  &__cards__container {
    display: grid;
    margin: 0 auto map-get($spacing, "XL");
    max-width: map-get($container, "L");

    @include bp-medium {
      grid-template-columns: repeat(3, 1fr);
      margin-bottom: map-get($spacing, "XXL");
    }
  }

  &__cards {
    grid-auto-rows: minmax(7.3125rem, max-content);
    grid-column: 1 / span 2;

    &__item {
      background-color: white;
      display: flex;
      flex-direction: column;
      padding: map-get($spacing, "M");
    }
  }

  &__cards--commentary {
    align-items: flex-end;
    display: flex;
    flex-direction: column;
    grid-column: 1 / span 3;
    max-width: map-get($container, "L");
    padding: map-get($spacing, "L");

    @include bp-medium {
      grid-column: 3 / span 1;
      align-self: flex-end;
    }

    p {
      max-width: map-get($container, "S");

      @include bp-small {
        padding-right: map-get($spacing, "L");
      }
    }
  }

  &__table {
    grid-auto-rows: max-content;

    &__item {
      background-color: white;
      display: flex;
      flex-direction: column;
      padding: map-get($spacing, "M");
    }

    &__item small {
      display: block;
      margin-bottom: map-get($spacing, "XS");
    }

    &__item .highlight {
      display: block;
      margin-top: map-get($spacing, "XS");
    }
  }

  &__table--commentary {
    display: flex;
    flex-direction: column;
    margin: 0 auto;
    max-width: map-get($container, "L");
    padding: map-get($spacing, "L") map-get($spacing, "L")
      map-get($spacing, "XL");

    p {
      max-width: map-get($container, "S");

      @include bp-small {
        padding-left: map-get($spacing, "XL");
      }

      @include bp-medium {
        padding-left: map-get($spacing, "XXL");
      }
    }

    p + p {
      margin-top: map-get($spacing, "XS");
    }
  }

  &__audit {
    &__animation {
      animation: auditIn 600ms $animation-ease-out-expo both;
    }

    &__items {
      max-width: 24rem !important;
      position: relative;

      @include bp-small {
        left: calc(50% - 20rem);
        margin-top: -3 * map-get($spacing, "XXL") !important;
        max-width: map-get($container, "M") !important;
        position: absolute;
      }
    }

    &__item {
      background-color: white;
      box-shadow: 0 map-get($spacing, "XS") map-get($spacing, "M") 0
        transparentize(map-get($color, "dark"), 0.88);
    }

    &__item video {
      box-sizing: border-box;
      padding: map-get($spacing, "S") map-get($spacing, "S")
        map-get($spacing, "XS");
    }

    &__item .highlight {
      display: flex;
      justify-content: center;
      padding-bottom: map-get($spacing, "S");
    }

    &__image {
      margin-bottom: -1 * map-get($spacing, "XXL") !important;

      @include bp-small {
        margin-bottom: 0 !important;
      }
    }

    &__image .c-media__caption {
      display: none;

      @include bp-small {
        display: unset;
      }
    }
  }

  &__audit--commentary {
    align-items: flex-end;
    display: flex;
    flex-direction: column;
    margin: map-get($spacing, "S") auto map-get($spacing, "L");
    max-width: map-get($container, "L");
    padding: map-get($spacing, "L");

    @include bp-medium {
      padding-left: map-get($spacing, "XXL");
    }

    h3,
    p {
      align-self: flex-start;
      max-width: map-get($container, "XS") + map-get($spacing, "XXL");
    }

    h3 {
      margin-bottom: map-get($spacing, "XS");
    }
  }

  &__table-2--commentary {
    align-items: flex-end;
    display: flex;
    flex-direction: column;
    margin: map-get($spacing, "L") auto 0;
    max-width: map-get($container, "L");
    padding: map-get($spacing, "L");

    @include bp-medium {
      padding-right: map-get($spacing, "XXL");
    }

    @include bp-large {
      padding-right: map-get($container, "XS");
    }

    h3,
    p {
      align-self: flex-end;
      max-width: map-get($container, "XS") + map-get($spacing, "XXL");
    }

    h3 {
      margin-bottom: map-get($spacing, "XS");
    }

    small {
      margin-top: map-get($spacing, "XS");
    }
  }

  &__deck {
    margin-top: map-get($spacing, "XL") !important;
    margin-bottom: map-get($spacing, "L") !important;
  }

  &__dashboard {
    margin-top: map-get($spacing, "XL");
    padding: map-get($spacing, "L");

    &__container {
      display: grid;
      margin: 0 auto;
      max-width: map-get($container, "XL");

      @include bp-medium {
        grid-template-columns: repeat(12, 1fr);
      }
    }

    &__item--1 {
      @include bp-medium {
        grid-column: 1 / span 8;
      }
    }

    &__item--2 {
      padding-top: map-get($spacing, "L");

      @include bp-small {
        padding-left: map-get($spacing, "XL");
      }

      @include bp-medium {
        grid-column: 9 / span 12;
        padding-left: map-get($spacing, "L");
      }
    }

    h3,
    p {
      max-width: map-get($container, "XS") + map-get($spacing, "XXL");
    }

    h3 {
      margin-bottom: map-get($spacing, "XS");
    }

    p + p {
      margin-top: map-get($spacing, "XS");
    }
  }

  &__dashboard--commentary {
    margin: 0 auto;
    max-width: map-get($container, "L");
    padding: map-get($spacing, "S") map-get($spacing, "L")
      map-get($spacing, "XXL");

    @include bp-small {
      padding-left: map-get($spacing, "XL") + map-get($spacing, "L");
    }

    p {
      max-width: map-get($container, "S");
    }

    p + p {
      margin-top: map-get($spacing, "XS");
    }
  }

  .annotation {
    font-family: "Mali", cursive;
    line-height: 1.2;
  }

  li.annotation + li.annotation {
    margin-top: map-get($spacing, "XS");
  }
}
